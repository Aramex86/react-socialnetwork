{"version":3,"sources":["assets/images/user.png","api/Api.js","components/common/FormControl/TextArea.jsx","components/Redux/sidebar-reducer.js","utilies/Helpers/objectHelpers.jsx","components/Redux/users-reducer.js","components/Redux/auth-reducer.js","components/Redux/app-reducer.js","components/Redux/redux-store.js","components/Navigation/Friends.js","components/Navigation/Navigation.js","components/Navigation/NavigationContainer.js","components/Music/Music.js","components/News/News.js","components/common/Paginator/Paginator.js","components/All_Users/User.js","components/All_Users/All_Users.js","components/Redux/Selectors/users-selector.jsx","components/All_Users/All_UsersContainer.js","components/Setings/Setings.js","components/Header/Header.js","components/Header/HeaderContainer.js","components/Login/Login.js","components/HOC/WithSuspense.jsx","App.js","index.js","components/common/Prealoder/Prealoder.js","utilies/Validation.js","components/Redux/profile-reducer.js","components/Redux/messages-reducer.js"],"names":["module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","res","data","getPages","pageNumber","follow","id","post","unfollow","delete","profileAPI","getProfile","userId","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","setAuth","login","email","password","rememberMe","captcha","logout","securityApi","getCaptchaUrl","TextArea","input","meta","props","hasError","touched","error","className","Input","createField","placeholder","name","component","validate","type","text","initialState","friends","img","sideBarReducer","state","updateObjectInArray","items","itemId","objPropName","newObjProps","map","user","users","totalUserCount","isFetching","followingInProgress","followSucces","unfollowSucces","setUsers","setCurrentPage","setTotalUsersCount","count","setPrealoader","toggleFollowngProggress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","action","followed","filter","SET_USER_DATA","isAuth","captchaUrl","setAuthUserData","payload","getCaptchaUrlSucces","authSet","response","url","authReducer","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","messagesPage","messagesReducer","sideBar","usersPage","auth","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMidlleWare","___store__","Friends","to","src","alt","Profile","friend","index","key","ProfileContainer","connect","Music","News","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","onClick","p","e","User","photos","small","userPhoto","disabled","some","AllUsers","u","createSelector","getPageSize","getTotalUserCount","getCurrentPage","getIsFetching","getFollowingInProgress","AllUsersApiCall","requestUsers","this","Prealoder","React","Component","bind","totalCount","Setings","Header","xmlns","viewBox","fill","d","cx","cy","r","HeaderContainer","LoginReduxForm","reduxForm","handleSubmit","onSubmit","required","message","messages","length","stopSubmit","_error","WithSuspense","Suspense","fallback","DialogsContainer","lazy","App","catchAllUnhandleErrors","promiseRejectionEvent","alert","console","initializeApp","addEventListener","removeEventListener","NavigationContainer","exact","path","render","Login","promise","Promise","all","ReactDOM","document","getElementById","value","maxLength","max","undefined","posts","likesCount","addNewPostActionCreator","newText","setUserStatus","file","getState","reject","newPost","postId","dialogs","newAnswer","addNewMessageActionCreator","newMessage"],"mappings":"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","file":"static/js/main.ff95dfea.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user.f5840b79.png\";","import * as axios from \"axios\";\r\n// 1) Create the instance Options\r\nconst instance = axios.create({\r\n  //option permision\r\n  withCredentials: true,\r\n  \r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  //headers api\r\n  headers: {\r\n    \"API-KEY\": \"3cbba7a4-ece5-49a7-bc29-e1705c0d4fa1\",\r\n  },\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage, pageSize) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((res) => {\r\n        return res.data;\r\n      });\r\n  },\r\n\r\n  getPages(pageNumber, pageSize) {\r\n    return instance\r\n      .get(`users?page=${pageNumber}&count=${pageSize}`)\r\n      .then((res) => {\r\n        return res.data;\r\n      });\r\n  },\r\n  follow(id) {\r\n    return instance.post(`follow/${id}`);\r\n  },\r\n\r\n  unfollow(id) {\r\n    return instance.delete(`follow/${id}`);\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`/profile/${userId}`).then((res) => {\r\n      return res.data;\r\n    });\r\n  },\r\n\r\n  getStatus(userId) {\r\n    return instance.get(`/profile/status/${userId}`);\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`/profile/status/`, { status: status });\r\n  },\r\n\r\n  savePhoto(photoFile) {\r\n    const formData = new FormData();\r\n\r\n    formData.append('image',photoFile)\r\n    return instance.put(`/profile/photo/`, formData,{\r\n      headers:{\r\n        'Content-Type':'multipart/term-data'\r\n      }\r\n    });\r\n  },\r\n  saveProfile(profile){\r\n    return  instance.put('profile',profile);\r\n  }\r\n};\r\n\r\nexport const authAPI = {\r\n  setAuth() {\r\n    return instance.get(\"auth/me\");\r\n  },\r\n  login(email, password, rememberMe = false,captcha=null) {\r\n    return instance.post(\"auth/login\", { email, password, rememberMe,captcha });\r\n  },\r\n  logout() {\r\n    return instance.delete(\"auth/login\");\r\n  },\r\n};\r\n\r\nexport const securityApi={\r\n  getCaptchaUrl(){\r\n    return instance.get('security/get-captcha-url');\r\n  }\r\n}","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\n\r\nexport const TextArea = ({ input, meta, ...props }) => {\r\n  const hasError = meta.touched && meta.error;\r\n  return (\r\n    <div className={hasError ? \"error\" : \"formControl\"}>\r\n      <textarea {...input} {...props} />\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n  const hasError = meta.touched && meta.error;\r\n  return (\r\n    <div className={hasError ? \"error\" : \"formControl\"}>\r\n      <input {...input} {...props} />\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const createField = (\r\n  placeholder,\r\n  name,\r\n  component,\r\n  validate,\r\n  type,\r\n  text = \"\",\r\n  props={}\r\n) => (\r\n\r\n  <div>\r\n    <Field\r\n      placeholder={placeholder}\r\n      name={name}\r\n      component={component}\r\n      validate={validate}\r\n      type={type}\r\n      {...props}\r\n    />\r\n    {text}\r\n  </div>\r\n);\r\n","\r\n\r\nlet initialState = {\r\n    friends: [\r\n        {\r\n            name: 'Sveta',\r\n            img: 'https://randomuser.me/api/portraits/women/57.jpg'\r\n        },\r\n        {\r\n            name: 'Misha',\r\n            img: 'https://randomuser.me/api/portraits/men/76.jpg'\r\n        },\r\n        {\r\n            name: 'Olga',\r\n            img: 'https://randomuser.me/api/portraits/women/88.jpg'\r\n        }\r\n    ]\r\n};\r\nconst sideBarReducer=(state=initialState,action)=>{\r\n    //initialState\r\n\r\n    return state\r\n}\r\n\r\nexport default sideBarReducer;","export const updateObjectInArray = (\r\n  items,\r\n  itemId,\r\n  objPropName,\r\n  newObjProps\r\n) => {\r\n  return items.map((user) => {\r\n    if (user[objPropName] === itemId) {\r\n      return { ...user, ...newObjProps };\r\n    }\r\n    return user;\r\n  });\r\n};\r\n","import { usersAPI } from \"../../api/Api\";\r\nimport {updateObjectInArray} from '../../utilies/Helpers/objectHelpers';\r\n//Step 4) Create const with type names\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_PREALOADER = \"TOGGLE_PREALOADER\";\r\nconst TOGGLE_FOLLOWING_PROGRESS = \"TOGGLE_FOLLOWING_PROGRESS\";\r\n\r\n// Step 1) innitilState\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUserCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n};\r\n\r\n// Step 2) Create Reducer\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users,action.userId,'id',{followed: true})\r\n        /* state.users.map((user) => {\r\n          if (user.id === action.userId) {\r\n            return { ...user, followed: true };\r\n          }\r\n          return user;\r\n        }), */\r\n      };\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users:updateObjectInArray(state.users,action.userId,'id',{followed: false})\r\n         /* state.users.map((user) => {\r\n          if (user.id === action.userId) {\r\n            return { ...user, followed: false };\r\n          }\r\n          return user;\r\n        }), */\r\n      };\r\n\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n      };\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage,\r\n      };\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUserCount: action.count,\r\n      };\r\n    case TOGGLE_PREALOADER:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching,\r\n      };\r\n    case TOGGLE_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id !== action.userId),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//Step 3) Create ActionCreator\r\n\r\nexport const followSucces = (userId) => {\r\n  return {\r\n    type: FOLLOW,\r\n    userId,\r\n  };\r\n};\r\nexport const unfollowSucces = (userId) => {\r\n  return {\r\n    type: UNFOLLOW,\r\n    userId,\r\n  };\r\n};\r\n\r\n// server call AC\r\nexport const setUsers = (users) => {\r\n  return {\r\n    type: SET_USERS,\r\n    users,\r\n  };\r\n};\r\nexport const setCurrentPage = (currentPage) => {\r\n  return {\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage: currentPage,\r\n  };\r\n};\r\nexport const setTotalUsersCount = (totalUserCount) => {\r\n  return {\r\n    type: SET_TOTAL_USERS_COUNT,\r\n    count: totalUserCount,\r\n  };\r\n};\r\nexport const setPrealoader = (isFetching) => {\r\n  return {\r\n    type: TOGGLE_PREALOADER,\r\n    isFetching: isFetching,\r\n  };\r\n};\r\nexport const toggleFollowngProggress = (isFetching, userId) => {\r\n  return {\r\n    type: TOGGLE_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId,\r\n  };\r\n};\r\n\r\n//Thunk creator\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n  //Prealoader\r\n  dispatch(setPrealoader(true));\r\n  dispatch(setCurrentPage(currentPage));\r\n  const res = await usersAPI.getUsers(currentPage, pageSize);\r\n  dispatch(setPrealoader(false));\r\n  dispatch(setUsers(res.items));\r\n  dispatch(setTotalUsersCount(res.totalCount));\r\n};\r\n\r\nconst followUnfollowFlow = async (\r\n  dispatch,\r\n  userId,\r\n  apiMethod,\r\n  actionCreator\r\n) => {\r\n  dispatch(toggleFollowngProggress(true, userId));\r\n  const res = await apiMethod(userId);\r\n  if (res.data.resultCode === 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowngProggress(false, userId));\r\n};\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n  let apiMethod = usersAPI.unfollow.bind(usersAPI);\r\n  let actionCreator = unfollowSucces;\r\n  followUnfollowFlow(dispatch,userId,apiMethod,actionCreator);\r\n};\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n  let apiMethod = usersAPI.follow.bind(usersAPI);\r\n  let actionCreator = followSucces;\r\n  followUnfollowFlow(dispatch,userId,apiMethod,actionCreator);\r\n};\r\n\r\nexport default usersReducer;\r\n","import { authAPI } from \"../../api/Api\";\r\nimport { securityApi } from \"../../api/Api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\n//Step 4) Create const with type names\r\n\r\nconst SET_USER_DATA = \"social-network/auth/SET_USER_DATA\";\r\nconst GET_CAPTCHA_URL_SUCCES = \"social-network/auth/GET_CAPTCHA_URL_SUCCES\";\r\n\r\n// Step 1) innitilState\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null,\r\n};\r\n\r\n// Step 2) Create Reducer\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      case GET_CAPTCHA_URL_SUCCES:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//Step 3) Create ActionCreator\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: { userId, email, login, isAuth },\r\n});\r\nexport const getCaptchaUrlSucces = (captchaUrl) => ({\r\n  type: GET_CAPTCHA_URL_SUCCES,\r\n  payload: { captchaUrl },\r\n});\r\n\r\n//Thunk Creator\r\nexport const authSet = () => async (dispatch) => {\r\n  const response = await authAPI.setAuth();\r\n  if (response.data.resultCode === 0) {\r\n    let { id, email, login } = response.data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n};\r\nexport const login = (email, password, rememberMe,captcha) => async (dispatch) => {\r\n  const response = await authAPI.login(email, password, rememberMe,captcha);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(authSet());\r\n  } else {\r\n    if(response.data.resultCode === 10){\r\n      dispatch(getCaptchaUrl());\r\n    }\r\n    let message =\r\n      response.data.messages.length > 0\r\n        ? response.data.messages[0]\r\n        : \"Some error\";\r\n    dispatch(stopSubmit(\"login\", { _error: message }));\r\n\r\n  }\r\n\r\n    \r\n};\r\nexport const logout = () => async (dispatch) => {\r\n  const response = await authAPI.logout();\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n  const response = await securityApi.getCaptchaUrl();\r\n  const captchaUrl = response.data.url;\r\n\r\n  dispatch(getCaptchaUrlSucces(captchaUrl));\r\n};\r\n\r\nexport default authReducer;\r\n//securityApi\r\n","import { authSet } from \"./auth-reducer\";\r\n\r\n//Step 4) Create const with type names\r\n\r\nconst SET_INITIALIZED = \"SET_INITIALIZED\";\r\n\r\n// Step 1) innitilState\r\nlet initialState = {\r\n  initialized: false,\r\n};\r\n\r\n// Step 2) Create Reducer\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_INITIALIZED:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//Step 3) Create ActionCreator\r\n\r\nexport const initializedSucces = () => ({\r\n  type: SET_INITIALIZED,\r\n});\r\n\r\n//Thunk Creator\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(authSet());\r\n  //let promise =  dispatch(some promise);\r\n  //let promise =  dispatch(some promise);\r\n\r\n  //if have many promise put them in array\r\n\r\n  Promise.all([promise]).then(() => {\r\n    dispatch(initializedSucces());\r\n  });\r\n};\r\n\r\nexport default appReducer;\r\n","import { createStore, combineReducers,compose, applyMiddleware } from \"redux\";\r\nimport profileReducer from './profile-reducer';\r\nimport messagesReducer from './messages-reducer';\r\nimport sideBarReducer from './sidebar-reducer';\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMidlleWare from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: messagesReducer,\r\n    sideBar: sideBarReducer,\r\n    usersPage: usersReducer,\r\n    auth:authReducer,\r\n    form:formReducer,\r\n    app:appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMidlleWare)));\r\n\r\n//let store = createStore(reducers,applyMiddleware(thunkMidlleWare));\r\n\r\n\r\n\r\nwindow.___store__ = store;\r\n\r\nexport default store;","import React from 'react'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Friends = (props) => {\r\n    return (\r\n        <div>\r\n            <NavLink to=\"/dialogs\">\r\n            <img src={props.img}alt=\"avatar\"/>\r\n            <span>{props.name}</span>\r\n            </NavLink>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Friends;","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport Friends from './Friends';\r\n\r\nconst Profile = (props) => {\r\n    let state = props.sideBar;\r\n    \r\n    let friend = state.friends.map((friend,index) => <Friends key={index} name={friend.name} img={friend.img}/>);\r\n    return (\r\n        <div className='nav__wrapper'>\r\n            <div className='nav__wrapper-header'>\r\n                <img\r\n                    src='https://images.unsplash.com/photo-1499084732479-de2c02d45fcc?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80'\r\n                    alt='img'></img>\r\n                <div className='profile__shortinfo'>\r\n                    <img\r\n                        src='https://randomuser.me/api/portraits/men/40.jpg'\r\n                        alt='avatar'\r\n                        className='profile__shortinfo-img'></img>\r\n                    <p>Matej Oliver</p>\r\n                </div>\r\n            </div>\r\n            <nav className='nav'>\r\n                <ul className='nav__list'>\r\n                    <li className='nav__list-item'>\r\n                        <NavLink to='/content' className='nav__list-link'>Profile</NavLink>\r\n                    </li>\r\n                    <li className='nav__list-item'>\r\n                        <NavLink to='/dialogs' className='nav__list-link'>Messages</NavLink>\r\n                    </li>\r\n                    <li className='nav__list-item'>\r\n                        <NavLink to='/news' className='nav__list-link'>News</NavLink>\r\n                    </li>\r\n                    <li className='nav__list-item'>\r\n                        <NavLink to='/music' className='nav__list-link'>Music</NavLink>\r\n                    </li>\r\n                    <li className='nav__list-item'>\r\n                        <NavLink to='/allusers' className='nav__list-link'>All Users</NavLink>\r\n                    </li>\r\n                    <li className='nav__list-item'>\r\n                        <NavLink to='/setings' className='nav__list-link'>Setings</NavLink>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n            <div className=\"nav__wrapper-friends\">\r\n                <h3>Friends</h3>\r\n                <div className=\"nav__wrapper-friends-wrapp\">\r\n                    {friend}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import { connect } from 'react-redux';\r\nimport Profile from './Navigation';\r\n\r\n   \r\n    let mapStateToProps =(state) =>{\r\n        return{\r\n            sideBar: state.sideBar\r\n        }\r\n    }\r\n\r\n    const ProfileContainer =  connect(mapStateToProps)(Profile)\r\n\r\n\r\nexport default ProfileContainer;","import React from 'react';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            <h1>Music Page</h1>\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\n\r\nconst News =()=>{\r\n    return(\r\n\r\n        <h1>News Page</h1>\r\n    )\r\n}\r\n\r\n\r\nexport default News;","\r\n// import React, {useState} from 'react';\r\n\r\n// let Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n//     let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n//     let pages = [];\r\n//     for (let i = 1; i <= pagesCount; i++) {\r\n//         pages.push(i);\r\n//     }\r\n\r\n//     let portionCount = Math.ceil(pagesCount / portionSize);\r\n//     let [portionNumber, setPortionNumber] = useState(1);\r\n//     let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n//     let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n//     return <div className=\"Paginator\">\r\n//         { portionNumber > 1 &&\r\n//         <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n//             {pages\r\n//                 .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n//                 .map((p) => {\r\n//                 return <span className={currentPage === p ? \"selected\" : \"\" }\r\n//                              key={p}\r\n//                              onClick={(e) => {\r\n//                                  onPageChanged(p);\r\n//                              }}>{p}</span>\r\n//             })}\r\n//         { portionCount > portionNumber &&\r\n//             <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n\r\n\r\n//     </div>\r\n// }\r\n\r\n// export default Paginator; \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport React, { useState } from \"react\";\r\n\r\nlet Paginator = ({\r\n  totalItemsCount,\r\n  pageSize,\r\n  currentPage,\r\n  onPageChanged,\r\n  portionSize = 10,\r\n}) => {\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n  let pages = [];\r\n\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  const portionCount = Math.ceil(pagesCount / portionSize);\r\n  const [portionNumber, setPortionNumber] = useState(1);\r\n  const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div>\r\n       { portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n      \r\n      {pages\r\n        .filter(\r\n          (p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber\r\n        )\r\n        .map((p, i) => {\r\n          return (\r\n            <span\r\n              key={i}\r\n              className={currentPage === p ? \"selected\" : \"\"}\r\n              onClick={(e) => {\r\n                onPageChanged(p);\r\n              }}\r\n            >\r\n              {p}\r\n            </span>\r\n          );\r\n        })}\r\n      { portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import React from \"react\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst User = ({ user, followingInProgress, unfollow, follow }) => {\r\n  return (\r\n    <div className=\"userspage__wrapp\">\r\n      <div className=\"userspage__wrapp-avatar\">\r\n        <NavLink to={`/content/${user.id}`}>\r\n          <img\r\n            src={user.photos.small != null ? user.photos.small : userPhoto}\r\n            alt=\"img\"\r\n          />\r\n        </NavLink>\r\n        <div>\r\n          {user.followed ? (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                unfollow(user.id);\r\n              }}\r\n            >\r\n              Unfollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                follow(user.id);\r\n              }}\r\n            >\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"userspage__wrapp-info\">\r\n        <div className=\"userspage__wrapp-info-left\">\r\n          <div>{user.name}</div>\r\n          <div>{user.status}</div>\r\n        </div>\r\n        <div className=\"userspage__wrapp-info-right\">\r\n          {/* <div>{'u.location.counrty'},</div>\r\n                        <div>{'u.location.city'}</div> */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default User;\r\n","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nconst AllUsers = ({\r\n  currentPage,\r\n  totalUserCount,\r\n  pageSize,\r\n  onPageChanged,\r\n  users,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <div className=\"Alluser\">\r\n      <Paginator\r\n        currentPage={currentPage}\r\n        onPageChanged={onPageChanged}\r\n       // totalUserCount={totalUserCount}\r\n        pageSize={pageSize}\r\n        totalItemsCount={totalUserCount}\r\n      />\r\n      {users.map((u, i) => (\r\n        <User\r\n          key={i}\r\n          user={u}\r\n          followingInProgress={props.followingInProgress}\r\n          unfollow={props.unfollow}\r\n          follow={props.follow}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AllUsers;\r\n","import { createSelector } from \"reselect\";\r\n\r\n\r\n const getUsersSelector=(state)=>{\r\n    return state.usersPage.users;\r\n}\r\n///////-> reslect library<-/////////\r\n\r\nexport const getUsers= createSelector(getUsersSelector,(users)=>{\r\n  return users.filter(u => true);\r\n});\r\n\r\n/////////////////\r\n\r\nexport const getPageSize=(state)=>{\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUserCount=(state)=>{\r\n    return state.usersPage.totalUserCount;\r\n}\r\nexport const getCurrentPage=(state)=>{\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching=(state)=>{\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress=(state)=>{\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  follow,\r\n  unfollow,\r\n  setUsers,\r\n  setCurrentPage,\r\n  setTotalUsersCount,\r\n  setPrealoader,\r\n  toggleFollowngProggress,\r\n  requestUsers,\r\n} from \"../Redux/users-reducer\";\r\nimport AllUsers from \"./All_Users\";\r\nimport Prealoder from \"../common/Prealoder/Prealoder\";\r\nimport { compose } from \"redux\";\r\n// import WithAuthRedirect from \"../HOC/WithAuthRedirect\";\r\nimport {\r\n  getUsers,\r\n  getPageSize,\r\n  getTotalUserCount,\r\n  getCurrentPage,\r\n  getIsFetching,\r\n  getFollowingInProgress,\r\n} from \"../Redux/Selectors/users-selector\";\r\n\r\n// class component for API calls\r\n\r\nclass AllUsersApiCall extends React.Component {\r\n  componentDidMount() {\r\n    this.props.requestUsers(this.props.currentPage, this.props.pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.requestUsers(pageNumber, this.props.pageSize);\r\n\r\n    //     this.props.setPrealoader(true);\r\n    //     this.props.setCurrentPage(pageNumber);\r\n    //   usersAPI.getPages(pageNumber,this.props.pageSize).then(res => {\r\n    //         this.props.setPrealoader(false);\r\n    //         this.props.setUsers(res.items);\r\n    //          });\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Prealoder /> : null}\r\n        <AllUsers\r\n          totalUserCount={this.props.totalUserCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.onPageChanged}\r\n          users={this.props.users}\r\n          follow={this.props.follow}\r\n          unfollow={this.props.unfollow}\r\n          followingInProgress={this.props.followingInProgress}\r\n          // isFetching={this.props.isFetching}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n// Step 2) Create functions take state\r\n// export let mapStateToProps = (state) => {\r\n//   return {\r\n//     users: state.usersPage.users,\r\n//     pageSize: state.usersPage.pageSize,\r\n//     totalUserCount: state.usersPage.totalUserCount,\r\n//     currentPage: state.usersPage.currentPage,\r\n//     isFetching: state.usersPage.isFetching,\r\n//     followingInProgress: state.usersPage.followingInProgress,\r\n//   };\r\n// };\r\nexport let mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUserCount: getTotalUserCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  };\r\n};\r\n\r\n//Step 3) Dispatch action from reducer\r\n/* export let mapDispachToProps=(dispatch)=>{\r\n    return{\r\n        follow:(userId)=>{\r\n            dispatch(followAC(userId));\r\n        },\r\n        unfollow:(userId)=>{\r\n            dispatch(unfollowAC(userId));\r\n        },\r\n        setUsers:(users)=>{\r\n            dispatch(setUsersAC(users));\r\n        },\r\n        setCurrentPage:(pageNumber)=>{\r\n            dispatch(setCurrentPageAC(pageNumber));\r\n        },\r\n        setTotalUsersCount:(totalCount)=>{\r\n            dispatch(setTotalUsersCountAC(totalCount))\r\n        },\r\n        togglePrealoader:(isFetching)=>{\r\n            dispatch(setPrealoaderAC(isFetching))\r\n        }\r\n\r\n\r\n    }\r\n} */\r\n\r\n// Step 1) Create component cotainer with connect\r\n// const AllUsersContainer = connect(mapStateToProps, {\r\n//   follow,\r\n//   unfollow,\r\n//   setUsers,\r\n//   setCurrentPage,\r\n//   setTotalUsersCount,\r\n//   setPrealoader,\r\n//   toggleFollowngProggress,\r\n//   getUsers,\r\n// })(AllUsersApiCall);\r\n\r\nexport default compose(\r\n  // WithAuthRedirect,\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setUsers,\r\n    setCurrentPage,\r\n    setTotalUsersCount,\r\n    setPrealoader,\r\n    toggleFollowngProggress,\r\n    requestUsers,\r\n  })\r\n)(AllUsersApiCall);\r\n","import React from 'react';\r\n\r\nconst Setings =() =>{\r\n    return (\r\n        <div>\r\n            <h1>Setings Page</h1>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Setings;","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__logo\">\r\n        <div className=\"header__logo-img\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 841.9 595.3\">\r\n            <g fill=\"#61DAFB\">\r\n              <path d=\"M666.3 296.5c0-32.5-40.7-63.3-103.1-82.4 14.4-63.6 8-114.2-20.2-130.4-6.5-3.8-14.1-5.6-22.4-5.6v22.3c4.6 0 8.3.9 11.4 2.6 13.6 7.8 19.5 37.5 14.9 75.7-1.1 9.4-2.9 19.3-5.1 29.4-19.6-4.8-41-8.5-63.5-10.9-13.5-18.5-27.5-35.3-41.6-50 32.6-30.3 63.2-46.9 84-46.9V78c-27.5 0-63.5 19.6-99.9 53.6-36.4-33.8-72.4-53.2-99.9-53.2v22.3c20.7 0 51.4 16.5 84 46.6-14 14.7-28 31.4-41.3 49.9-22.6 2.4-44 6.1-63.6 11-2.3-10-4-19.7-5.2-29-4.7-38.2 1.1-67.9 14.6-75.8 3-1.8 6.9-2.6 11.5-2.6V78.5c-8.4 0-16 1.8-22.6 5.6-28.1 16.2-34.4 66.7-19.9 130.1-62.2 19.2-102.7 49.9-102.7 82.3 0 32.5 40.7 63.3 103.1 82.4-14.4 63.6-8 114.2 20.2 130.4 6.5 3.8 14.1 5.6 22.5 5.6 27.5 0 63.5-19.6 99.9-53.6 36.4 33.8 72.4 53.2 99.9 53.2 8.4 0 16-1.8 22.6-5.6 28.1-16.2 34.4-66.7 19.9-130.1 62-19.1 102.5-49.9 102.5-82.3zm-130.2-66.7c-3.7 12.9-8.3 26.2-13.5 39.5-4.1-8-8.4-16-13.1-24-4.6-8-9.5-15.8-14.4-23.4 14.2 2.1 27.9 4.7 41 7.9zm-45.8 106.5c-7.8 13.5-15.8 26.3-24.1 38.2-14.9 1.3-30 2-45.2 2-15.1 0-30.2-.7-45-1.9-8.3-11.9-16.4-24.6-24.2-38-7.6-13.1-14.5-26.4-20.8-39.8 6.2-13.4 13.2-26.8 20.7-39.9 7.8-13.5 15.8-26.3 24.1-38.2 14.9-1.3 30-2 45.2-2 15.1 0 30.2.7 45 1.9 8.3 11.9 16.4 24.6 24.2 38 7.6 13.1 14.5 26.4 20.8 39.8-6.3 13.4-13.2 26.8-20.7 39.9zm32.3-13c5.4 13.4 10 26.8 13.8 39.8-13.1 3.2-26.9 5.9-41.2 8 4.9-7.7 9.8-15.6 14.4-23.7 4.6-8 8.9-16.1 13-24.1zM421.2 430c-9.3-9.6-18.6-20.3-27.8-32 9 .4 18.2.7 27.5.7 9.4 0 18.7-.2 27.8-.7-9 11.7-18.3 22.4-27.5 32zm-74.4-58.9c-14.2-2.1-27.9-4.7-41-7.9 3.7-12.9 8.3-26.2 13.5-39.5 4.1 8 8.4 16 13.1 24 4.7 8 9.5 15.8 14.4 23.4zM420.7 163c9.3 9.6 18.6 20.3 27.8 32-9-.4-18.2-.7-27.5-.7-9.4 0-18.7.2-27.8.7 9-11.7 18.3-22.4 27.5-32zm-74 58.9c-4.9 7.7-9.8 15.6-14.4 23.7-4.6 8-8.9 16-13 24-5.4-13.4-10-26.8-13.8-39.8 13.1-3.1 26.9-5.8 41.2-7.9zm-90.5 125.2c-35.4-15.1-58.3-34.9-58.3-50.6 0-15.7 22.9-35.6 58.3-50.6 8.6-3.7 18-7 27.7-10.1 5.7 19.6 13.2 40 22.5 60.9-9.2 20.8-16.6 41.1-22.2 60.6-9.9-3.1-19.3-6.5-28-10.2zM310 490c-13.6-7.8-19.5-37.5-14.9-75.7 1.1-9.4 2.9-19.3 5.1-29.4 19.6 4.8 41 8.5 63.5 10.9 13.5 18.5 27.5 35.3 41.6 50-32.6 30.3-63.2 46.9-84 46.9-4.5-.1-8.3-1-11.3-2.7zm237.2-76.2c4.7 38.2-1.1 67.9-14.6 75.8-3 1.8-6.9 2.6-11.5 2.6-20.7 0-51.4-16.5-84-46.6 14-14.7 28-31.4 41.3-49.9 22.6-2.4 44-6.1 63.6-11 2.3 10.1 4.1 19.8 5.2 29.1zm38.5-66.7c-8.6 3.7-18 7-27.7 10.1-5.7-19.6-13.2-40-22.5-60.9 9.2-20.8 16.6-41.1 22.2-60.6 9.9 3.1 19.3 6.5 28.1 10.2 35.4 15.1 58.3 34.9 58.3 50.6-.1 15.7-23 35.6-58.4 50.6zM320.8 78.4z\" />\r\n              <circle cx=\"420.9\" cy=\"296.5\" r=\"45.7\" />\r\n              <path d=\"M520.5 78.1z\" />\r\n            </g>\r\n          </svg>\r\n        </div>\r\n        <div className=\"header__logo-heading\">\r\n          <h1>Social Network</h1>\r\n        </div>\r\n      </div>\r\n      <div className=\"login-btn\">\r\n        {props.isAuth ? (\r\n          <div>\r\n            {props.login} <button onClick={props.logout}>Log out</button>\r\n          </div>\r\n        ) : (\r\n          <NavLink to={\"/login\"}>LOGIN</NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../Redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);\r\n","import React from \"react\";\r\nimport { reduxForm } from \"redux-form\";\r\nimport { Input, createField } from \"../common/FormControl/TextArea\";\r\nimport { required } from \"../../utilies/Validation\";\r\nimport { connect } from \"react-redux\";\r\nimport { login } from \"../Redux/auth-reducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst LoginForm = ({handleSubmit,error,captchaUrl}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n        {createField('Email','email',Input,[required],'email')}\r\n        {createField('Password','password',Input,[required],'password')}\r\n        {createField(null,'rememberMe',Input,[],'checkbox','remember me')}\r\n\r\n        {captchaUrl && <img src={captchaUrl} alt='captcha'/>}\r\n        {captchaUrl && createField('Symbols from image','captcha',Input,[required])}\r\n     {error && <div className=\"commonError\">\r\n       {error}\r\n       </div>}\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({ form: \"login\" })(LoginForm);\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.login(formData.email, formData.password, formData.rememberMe,formData.captcha);\r\n  };\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to=\"/content\" />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  captchaUrl:state.auth.captchaUrl,\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { login })(Login);\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst WithSuspense = (Component) => {\r\n  return (props) => {\r\n    return (\r\n      <React.Suspense fallback={<div>Loading...</div>}>\r\n        <Component {...props} />\r\n      </React.Suspense>\r\n    );\r\n  };\r\n};\r\n\r\nexport default WithSuspense;\r\n","import React, { Component } from \"react\";\r\nimport \"./SASS/App.scss\";\r\nimport { Route,Switch, Redirect } from \"react-router-dom\";\r\nimport { initializeApp } from \"./components/Redux/app-reducer\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport NavigationContainer from \"./components/Navigation/NavigationContainer\";\r\nimport Music from \"./components/Music/Music\";\r\nimport News from \"./components/News/News\";\r\nimport AllUsersContainer from \"./components/All_Users/All_UsersContainer\";\r\nimport Setings from \"./components/Setings/Setings\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport Prealoder from \"./components/common/Prealoder/Prealoder\";\r\nimport { compose } from \"redux\";\r\nimport WithSuspense from \"./components/HOC/WithSuspense\";\r\n\r\n//Lazy Loading\r\n//import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nconst DialogsContainer = React.lazy(() =>\r\n  import(\"./components/Dialogs/DialogsContainer\")\r\n);\r\n//import ProfileContainer from \"./components/Content/ProfileContainer\";\r\nconst ProfileContainer = React.lazy(() =>\r\n  import(\"./components/Content/ProfileContainer\")\r\n);\r\n\r\nclass App extends Component {\r\n  catchAllUnhandleErrors=(promiseRejectionEvent)=>{\r\n    alert('some error');\r\n    console.error(promiseRejectionEvent);\r\n};\r\n  componentDidMount() {    \r\n    this.props.initializeApp();\r\n    window.addEventListener('unhandledrejection',this.catchAllUnhandleErrors);\r\n  }\r\n  componentWillMount(){\r\n    window.removeEventListener('unhandledrejection',this.catchAllUnhandleErrors);\r\n\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Prealoder />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <NavigationContainer />\r\n        <div className=\"content-wrapper\">\r\n          {/* <Route\r\n            path=\"/content/:userId?\"\r\n            render={() => {\r\n              return (\r\n                <React.Suspense fallback={<div>Loading...</div>}>\r\n                  <ProfileContainer />\r\n                </React.Suspense>\r\n              );\r\n            }}\r\n          /> */}\r\n          <Switch>\r\n          <Route\r\n           exact path=\"/\"\r\n            render={()=><Redirect to='/content'/>}\r\n          />\r\n          <Route\r\n            path=\"/content/:userId?\"\r\n            render={WithSuspense(ProfileContainer)}\r\n          />\r\n\r\n          <Route\r\n            path=\"/dialogs\"\r\n            render={WithSuspense(DialogsContainer)}\r\n          />\r\n\r\n          <Route path=\"/news\" component={News} />\r\n\r\n          <Route path=\"/music\" component={Music} />\r\n\r\n          <Route path=\"/allusers\" render={() => <AllUsersContainer />} />\r\n\r\n          <Route path=\"/setings\" component={Setings} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"*\" render={()=><div>404 NOT FOUND</div>} />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized,\r\n});\r\n\r\nexport default compose(\r\n  //withRouter ,\r\n  connect(mapStateToProps, { initializeApp })(App)\r\n);\r\n","import store from \"./components/Redux/redux-store\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\n\r\n//Rerender UI\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <Provider store={store}>\r\n      <App/>\r\n    </Provider>\r\n  </HashRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n","import React from 'react';\r\n\r\nconst Prealoder =(props)=>{\r\n    return <div className='preloader'></div>\r\n    \r\n}\r\n\r\nexport default Prealoder;","export const required = (value) => {\r\n  if (value) return undefined;\r\n\r\n  return \"Field is required\";\r\n};\r\n\r\nexport const maxLength = max => value =>\r\n  value && value.length > max ? `Must be ${max} characters or less` : undefined","import { profileAPI } from \"../../api/Api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_USER_STATUS = \"SET_USER_STATUS\";\r\nconst DELETE_POST = \"DELETE_POST\";\r\nconst SAVE_PHOTO_SUCCES = \"SAVE_PHOTO_SUCCES\";\r\n//initialState\r\n\r\nlet initialState = {\r\n  posts: [\r\n    {\r\n      id: 1,\r\n      message: \"Hello how are you\",\r\n      likesCount: 10,\r\n    },\r\n    {\r\n      id: 2,\r\n      message: \"I am fine\",\r\n      likesCount: 25,\r\n    },\r\n    {\r\n      id: 3,\r\n      message: \"Happy birthday\",\r\n      likesCount: 30,\r\n    },\r\n    {\r\n      id: 4,\r\n      message: \"Hello how are you\",\r\n      likesCount: 20,\r\n    },\r\n    {\r\n      id: 5,\r\n      message: \"Hello how are you\",\r\n      likesCount: 20,\r\n    },\r\n    {\r\n      id: 6,\r\n      message: \"Hello how are you\",\r\n      likesCount: 20,\r\n    },\r\n  ],\r\n  profile: null,\r\n  status: \"\",\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: 7,\r\n        message: action.newText,\r\n        likesCount: 0,\r\n      };\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n      };\r\n\r\n      // let stateCopy = {...state};\r\n      // if(stateCopy.newText !==''){\r\n      //   stateCopy.posts = [...state.posts];\r\n      //   stateCopy.posts.push(newPost);\r\n      // }\r\n      // stateCopy.newText='';\r\n\r\n      // return stateCopy;\r\n    }\r\n    // case UPDATE_POST_TEXT: {\r\n    //   let stateCopy = { ...state };\r\n    //   stateCopy.newText = action.newText;\r\n\r\n    //   return stateCopy;\r\n    // }\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      };\r\n    }\r\n    case SET_USER_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      };\r\n    }\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter((p) => p.id !== action.postId),\r\n      };\r\n    }\r\n    case SAVE_PHOTO_SUCCES: {\r\n      return {\r\n        ...state,\r\n        profile: {...state.profile,photos:action.photos}\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addNewPostActionCreator = (newText) => {\r\n  return { type: ADD_POST, newText };\r\n};\r\n\r\nexport const deletePost = (postId) => {\r\n  return { type: DELETE_POST, postId };\r\n};\r\n// export const updatePostTextActionCreator = (newText) => {\r\n//   return { type: UPDATE_POST_TEXT, action:newText };\r\n// };\r\nexport const setUserProfile = (profile) => {\r\n  return { type: SET_USER_PROFILE, profile };\r\n};\r\nexport const setUserStatus = (status) => {\r\n  return { type: SET_USER_STATUS, status };\r\n};\r\nexport const savePhotoSucces = (photos) => {\r\n  return { type: SAVE_PHOTO_SUCCES, photos };\r\n};\r\n//Thunk creator\r\n\r\nexport const getProfile = (userId) => async (dispatch) => {\r\n  const res = await profileAPI.getProfile(userId);\r\n  dispatch(setUserProfile(res));\r\n};\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  const res = await profileAPI.getStatus(userId);\r\n  dispatch(setUserStatus(res.data));\r\n};\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  const res = await profileAPI.updateStatus(status);\r\n  if (res.data.resultCode === 0) {\r\n    dispatch(setUserStatus(status));\r\n  }\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  const res = await profileAPI.savePhoto(file);\r\n  if (res.data.resultCode === 0) {\r\n    dispatch(savePhotoSucces(res.data.data.photos));\r\n  }\r\n}\r\n\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  const response = await profileAPI.saveProfile(profile);\r\n\r\n  if (response.data.resultCode === 0) {\r\n      dispatch(getProfile(userId));\r\n  } else {\r\n      dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0]}));\r\n      return Promise.reject(response.data.messages[0]);\r\n  }\r\n}\r\n\r\nexport default profileReducer;\r\n","const ADD_MESSAGE = 'ADD-MESSAGE'; \r\n//initialState\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {\r\n            id: 1,\r\n            name: 'Olga',\r\n            img: 'https://randomuser.me/api/portraits/women/88.jpg'\r\n        }, {\r\n            id: 2,\r\n            name: 'Vasea',\r\n            img: 'https://randomuser.me/api/portraits/men/31.jpg'\r\n        }, {\r\n            id: 3,\r\n            name: 'Sveta',\r\n            img: 'https://randomuser.me/api/portraits/women/57.jpg'\r\n        }, {\r\n            id: 4,\r\n            name: 'Misha',\r\n            img: 'https://randomuser.me/api/portraits/men/76.jpg'\r\n        }, {\r\n            id: 5,\r\n            name: 'Slava',\r\n            img: 'https://randomuser.me/api/portraits/men/94.jpg'\r\n        }\r\n    ],\r\n    messages: [\r\n        {\r\n            id: 1,\r\n            message: 'Hello how are you',\r\n            img: 'https://randomuser.me/api/portraits/men/40.jpg'\r\n        }, {\r\n            id: 2,\r\n            message: 'I am fine!!!',\r\n            img: 'https://randomuser.me/api/portraits/women/88.jpg'\r\n\r\n        }, {\r\n            id: 3,\r\n            message: 'Happy birthday',\r\n            img: 'https://randomuser.me/api/portraits/men/40.jpg'\r\n\r\n        }, {\r\n            id: 4,\r\n            message: 'Thanks yo!!',\r\n            img: 'https://randomuser.me/api/portraits/women/88.jpg'\r\n        },\r\n    ],\r\n    newAnswer:''\r\n}\r\n\r\n const messagesReducer = (state = initialState,action)=>{\r\n    switch(action.type){\r\n        case ADD_MESSAGE:{\r\n            const newMessage ={\r\n                id:5,\r\n                message:action.newAnswer,\r\n                img:'https://randomuser.me/api/portraits/women/88.jpg'\r\n            };\r\n            return{\r\n                ...state,\r\n                //newAnswer:'',\r\n                messages:[...state.messages,newMessage]\r\n            }\r\n\r\n            // // поверхностная копия\r\n            // let stateCopy = {...state}\r\n            \r\n            // if(stateCopy.newAnswer !==''){\r\n            //     //глубокая копия\r\n            //     stateCopy.messages = [...state.messages];\r\n            //     stateCopy.messages.push(newMessage);\r\n            //     stateCopy.newAnswer='';\r\n            // }\r\n            // return stateCopy;\r\n        }\r\n        \r\n        default:\r\n            return state;   \r\n    }   \r\n}\r\nexport const addNewMessageActionCreator = (newAnswer) =>{\r\n    return {type: ADD_MESSAGE , newAnswer}\r\n}\r\n\r\n\r\n\r\nexport default messagesReducer;\r\n"],"sourceRoot":""}